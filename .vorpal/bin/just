#!/bin/bash
set -eo pipefail

if [ -t 1 ]; then
    TTY_OPTS="--tty"
else
    TTY_OPTS=""
fi

docker container run \
    --interactive \
    --rm \
    "${TTY_OPTS}" \
    --volume "${HOME}/.cargo:/home/devuser/.cargo" \
    --volume "${PWD}:${PWD}" \
    --volume "/var/run/docker.sock:/var/run/docker.sock" \
    --workdir "${PWD}" \
    ghcr.io/alt-f4-llc/vorpal-dev:edge \
    just "$@"
